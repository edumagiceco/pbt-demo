<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Í≥ºÏ†ï ÏÉÅÏÑ∏ - PBT LMS</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            line-height: 1.6;
        }
        
        .navbar {
            background: rgba(255, 255, 255, 0.95);
            padding: 1rem 2rem;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
            backdrop-filter: blur(10px);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .navbar .logo {
            font-size: 1.5rem;
            font-weight: 700;
            color: #4a5568;
        }
        
        .navbar .nav-links {
            display: flex;
            gap: 1rem;
            align-items: center;
        }
        
        .navbar .nav-link {
            color: #4a5568;
            text-decoration: none;
            padding: 0.5rem 1rem;
            border-radius: 8px;
            transition: all 0.3s ease;
        }
        
        .navbar .nav-link:hover {
            background: rgba(102, 126, 234, 0.1);
            color: #667eea;
        }
        
        .navbar .logout-btn {
            padding: 0.5rem 1rem;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 500;
            transition: all 0.3s ease;
        }
        
        .navbar .logout-btn:hover {
            transform: translateY(-1px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.3);
        }
        
        .container {
            max-width: 1200px;
            margin: 2rem auto;
            padding: 0 2rem;
        }
        
        .breadcrumb {
            background: rgba(255, 255, 255, 0.95);
            padding: 1rem 1.5rem;
            border-radius: 10px;
            margin-bottom: 1.5rem;
            font-size: 0.9rem;
            color: #718096;
        }
        
        .breadcrumb a {
            color: #667eea;
            text-decoration: none;
        }
        
        .breadcrumb a:hover {
            text-decoration: underline;
        }
        
        .course-header {
            background: rgba(255, 255, 255, 0.95);
            padding: 2rem;
            border-radius: 15px;
            margin-bottom: 2rem;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.15);
        }
        
        .course-title {
            font-size: 2.5rem;
            color: #4a5568;
            margin-bottom: 1rem;
        }
        
        .course-meta {
            display: flex;
            gap: 2rem;
            margin-bottom: 1.5rem;
            flex-wrap: wrap;
        }
        
        .meta-item {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            color: #718096;
        }
        
        .meta-item .icon {
            font-size: 1.2rem;
        }
        
        .progress-section {
            margin-bottom: 1.5rem;
        }
        
        .progress-label {
            display: flex;
            justify-content: space-between;
            margin-bottom: 0.5rem;
            font-weight: 500;
            color: #4a5568;
        }
        
        .progress-bar {
            background: #e2e8f0;
            border-radius: 10px;
            height: 12px;
            overflow: hidden;
        }
        
        .progress-fill {
            height: 100%;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            transition: width 0.3s ease;
        }
        
        .course-description {
            color: #4a5568;
            line-height: 1.7;
            margin-bottom: 2rem;
        }
        
        .content-grid {
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: 2rem;
        }
        
        .main-content {
            display: flex;
            flex-direction: column;
            gap: 2rem;
        }
        
        .sidebar {
            display: flex;
            flex-direction: column;
            gap: 2rem;
        }
        
        .section {
            background: rgba(255, 255, 255, 0.95);
            padding: 1.5rem;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.15);
        }
        
        .section-title {
            font-size: 1.3rem;
            color: #4a5568;
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        .lecture-list {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }
        
        .lecture-item {
            display: flex;
            align-items: center;
            padding: 1rem;
            border: 1px solid #e2e8f0;
            border-radius: 10px;
            transition: all 0.3s ease;
            cursor: pointer;
        }
        
        .lecture-item:hover {
            border-color: #667eea;
            background: rgba(102, 126, 234, 0.05);
        }
        
        .lecture-icon {
            width: 40px;
            height: 40px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1.2rem;
            margin-right: 1rem;
        }
        
        .lecture-content {
            flex: 1;
        }
        
        .lecture-title {
            font-weight: 600;
            color: #4a5568;
            margin-bottom: 0.3rem;
        }
        
        .lecture-meta {
            font-size: 0.9rem;
            color: #718096;
        }
        
        .lecture-status {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-size: 0.9rem;
        }
        
        .status-complete {
            color: #38a169;
        }
        
        .status-current {
            color: #667eea;
        }
        
        .status-locked {
            color: #a0aec0;
        }
        
        .stats-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1rem;
        }
        
        .stat-item {
            text-align: center;
            padding: 1rem;
            background: rgba(102, 126, 234, 0.1);
            border-radius: 10px;
        }
        
        .stat-number {
            font-size: 2rem;
            font-weight: 700;
            color: #667eea;
        }
        
        .stat-label {
            color: #718096;
            font-size: 0.9rem;
        }
        
        .action-buttons {
            display: flex;
            gap: 1rem;
            margin-top: 1.5rem;
        }
        
        .btn {
            padding: 0.8rem 1.5rem;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 500;
            transition: all 0.3s ease;
            text-decoration: none;
            text-align: center;
            font-size: 0.9rem;
            flex: 1;
        }
        
        .btn-primary {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }
        
        .btn-secondary {
            background: transparent;
            color: #667eea;
            border: 2px solid #667eea;
        }
        
        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.3);
        }
        
        .loading {
            text-align: center;
            padding: 3rem;
        }
        
        .spinner {
            border: 3px solid #f3f3f3;
            border-top: 3px solid #667eea;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            animation: spin 1s linear infinite;
            margin: 0 auto 1rem;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        .error-message {
            background: rgba(255, 255, 255, 0.95);
            padding: 2rem;
            border-radius: 15px;
            text-align: center;
            color: #e53e3e;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.15);
        }
        
        @media (max-width: 768px) {
            .navbar {
                padding: 1rem;
                flex-direction: column;
                gap: 1rem;
            }
            
            .container {
                padding: 0 1rem;
            }
            
            .content-grid {
                grid-template-columns: 1fr;
            }
            
            .course-meta {
                flex-direction: column;
                gap: 1rem;
            }
            
            .action-buttons {
                flex-direction: column;
            }
            
            .navbar .nav-links {
                flex-wrap: wrap;
                justify-content: center;
            }
        }
    </style>
</head>
<body>
    <nav class="navbar">
        <div class="logo">üß© PBT LMS</div>
        <div class="nav-links">
            <a href="/dashboard.html" class="nav-link">ÎåÄÏãúÎ≥¥Îìú</a>
            <a href="/courses.html" class="nav-link">ÎÇ¥ Í≥ºÏ†ï</a>
            <a href="/problems.html" class="nav-link">Î¨∏Ï†ú ÌíÄÏù¥</a>
            <a href="/discussions.html" class="nav-link">ÌÜ†Î°†</a>
            <button class="logout-btn" onclick="logout()">Î°úÍ∑∏ÏïÑÏõÉ</button>
        </div>
    </nav>
    
    <div class="container">
        <div class="breadcrumb">
            <a href="/courses.html">ÎÇ¥ Í≥ºÏ†ï</a> > <span id="course-breadcrumb">Í≥ºÏ†ï ÏÉÅÏÑ∏</span>
        </div>
        
        <div id="loading" class="loading">
            <div class="spinner"></div>
            <p>Í≥ºÏ†ï Ï†ïÎ≥¥Î•º Î∂àÎü¨Ïò§Îäî Ï§ë...</p>
        </div>
        
        <div id="error-message" class="error-message" style="display: none;">
            <h3>‚ö†Ô∏è Ïò§Î•òÍ∞Ä Î∞úÏÉùÌñàÏäµÎãàÎã§</h3>
            <p id="error-text">Í≥ºÏ†ï Ï†ïÎ≥¥Î•º Î∂àÎü¨Ïò¨ Ïàò ÏóÜÏäµÎãàÎã§.</p>
            <button class="btn btn-primary" onclick="location.reload()">Îã§Ïãú ÏãúÎèÑ</button>
        </div>
        
        <div id="course-content" style="display: none;">
            <!-- Í≥ºÏ†ï Ìó§Îçî -->
            <div class="course-header">
                <h1 class="course-title" id="course-title">Í≥ºÏ†ïÎ™Ö</h1>
                <div class="course-meta">
                    <div class="meta-item">
                        <span class="icon">üë®‚Äçüè´</span>
                        <span>Í∞ïÏÇ¨: <span id="instructor-name">Í∞ïÏÇ¨Î™Ö</span></span>
                    </div>
                    <div class="meta-item">
                        <span class="icon">üìä</span>
                        <span>ÎÇúÏù¥ÎèÑ: <span id="course-level">Ï¥àÍ∏â</span></span>
                    </div>
                    <div class="meta-item">
                        <span class="icon">üéØ</span>
                        <span>Ïπ¥ÌÖåÍ≥†Î¶¨: <span id="course-category">ÌîÑÎ°úÍ∑∏ÎûòÎ∞ç</span></span>
                    </div>
                    <div class="meta-item">
                        <span class="icon">üë•</span>
                        <span>ÏàòÍ∞ïÏÉù: <span id="student-count">0</span>Î™Ö</span>
                    </div>
                </div>
                
                <div class="progress-section">
                    <div class="progress-label">
                        <span>ÌïôÏäµ ÏßÑÎèÑ</span>
                        <span id="progress-percent">0%</span>
                    </div>
                    <div class="progress-bar">
                        <div class="progress-fill" id="progress-fill" style="width: 0%"></div>
                    </div>
                </div>
                
                <div class="course-description" id="course-description">
                    Í≥ºÏ†ï ÏÑ§Î™ÖÏù¥ Ïó¨Í∏∞Ïóê ÌëúÏãúÎê©ÎãàÎã§.
                </div>
                
                <div class="action-buttons">
                    <button class="btn btn-primary" onclick="startLearning()">ÌïôÏäµ ÏãúÏûë/Í≥ÑÏÜç</button>
                    <a href="#" class="btn btn-secondary" id="materials-link">ÏûêÎ£åÏã§</a>
                    <a href="#" class="btn btn-secondary" id="discussions-link">ÌÜ†Î°†</a>
                </div>
            </div>
            
            <div class="content-grid">
                <!-- Í∞ïÏùò Î™©Î°ù -->
                <div class="main-content">
                    <div class="section">
                        <h2 class="section-title">
                            üìö Í∞ïÏùò Î™©Î°ù
                        </h2>
                        <div class="lecture-list" id="lecture-list">
                            <!-- Í∞ïÏùò Î™©Î°ùÏù¥ Ïó¨Í∏∞Ïóê ÎèôÏ†ÅÏúºÎ°ú Ï∂îÍ∞ÄÎê©ÎãàÎã§ -->
                        </div>
                    </div>
                </div>
                
                <!-- ÏÇ¨Ïù¥ÎìúÎ∞î -->
                <div class="sidebar">
                    <!-- ÌïôÏäµ ÌÜµÍ≥Ñ -->
                    <div class="section">
                        <h3 class="section-title">üìä ÌïôÏäµ ÌÜµÍ≥Ñ</h3>
                        <div class="stats-grid">
                            <div class="stat-item">
                                <div class="stat-number" id="completed-lectures">0</div>
                                <div class="stat-label">ÏôÑÎ£åÌïú Í∞ïÏùò</div>
                            </div>
                            <div class="stat-item">
                                <div class="stat-number" id="total-lectures">0</div>
                                <div class="stat-label">Ï†ÑÏ≤¥ Í∞ïÏùò</div>
                            </div>
                            <div class="stat-item">
                                <div class="stat-number" id="study-time">0</div>
                                <div class="stat-label">ÌïôÏäµ ÏãúÍ∞Ñ</div>
                            </div>
                            <div class="stat-item">
                                <div class="stat-number" id="assignments-completed">0</div>
                                <div class="stat-label">ÏôÑÎ£åÌïú Í≥ºÏ†ú</div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Í≥ºÏ†ú Î∞è ÌÄ¥Ï¶à -->
                    <div class="section">
                        <h3 class="section-title">üìù Í≥ºÏ†ú & ÌÄ¥Ï¶à</h3>
                        <div id="assignments-list">
                            <!-- Í≥ºÏ†ú Î™©Î°ùÏù¥ Ïó¨Í∏∞Ïóê Ï∂îÍ∞ÄÎê©ÎãàÎã§ -->
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // URLÏóêÏÑú Í≥ºÏ†ï ID Ï∂îÏ∂ú
        const urlParams = new URLSearchParams(window.location.search);
        const courseId = urlParams.get('id');
        
        // ÌéòÏù¥ÏßÄ Î°úÎìú Ïãú Ï¥àÍ∏∞Ìôî
        document.addEventListener('DOMContentLoaded', async () => {
            if (!courseId) {
                showError('Í≥ºÏ†ï IDÍ∞Ä ÏóÜÏäµÎãàÎã§.');
                return;
            }
            
            const token = localStorage.getItem('authToken');
            if (!token) {
                alert('Î°úÍ∑∏Ïù∏Ïù¥ ÌïÑÏöîÌï©ÎãàÎã§.');
                window.location.href = '/login.html';
                return;
            }
            
            await loadCourseDetail(courseId);
        });
        
        // Í≥ºÏ†ï ÏÉÅÏÑ∏ Ï†ïÎ≥¥ Î°úÎìú
        async function loadCourseDetail(courseId) {
            const loading = document.getElementById('loading');
            const courseContent = document.getElementById('course-content');
            const errorMessage = document.getElementById('error-message');
            const token = localStorage.getItem('authToken');
            
            try {
                // Ï¥àÍ∏∞ ÏÉÅÌÉú ÏÑ§Ï†ï
                loading.style.display = 'block';
                courseContent.style.display = 'none';
                errorMessage.style.display = 'none';
                
                // Ïã§Ï†ú API Ìò∏Ï∂ú
                const response = await fetch(`/api/courses/${courseId}`, {
                    headers: {
                        'Authorization': `Bearer ${token}`,
                        'Content-Type': 'application/json'
                    }
                });
                
                if (response.ok) {
                    const result = await response.json();
                    const course = result.data;
                    
                    if (!course) {
                        throw new Error('Í≥ºÏ†ï Îç∞Ïù¥ÌÑ∞Í∞Ä ÏóÜÏäµÎãàÎã§');
                    }
                    
                    // Í∞ïÏùò Î™©Î°ù API Ìò∏Ï∂ú
                    const lecturesResponse = await fetch(`/api/courses/${courseId}/lectures`, {
                        headers: {
                            'Authorization': `Bearer ${token}`,
                            'Content-Type': 'application/json'
                        }
                    });
                    
                    let lectures = [];
                    if (lecturesResponse.ok) {
                        const lecturesResult = await lecturesResponse.json();
                        lectures = lecturesResult.data || [];
                    }
                    
                    loading.style.display = 'none';
                    courseContent.style.display = 'block';
                    
                    // Í≥ºÏ†ï Ï†ïÎ≥¥ Î†åÎçîÎßÅ
                    renderCourseDetail({
                        ...course,
                        lectures: lectures,
                        instructorName: course.instructor?.fullName || 'Í∞ïÏÇ¨Î™Ö',
                        progress: 65, // ÏûÑÏãúÍ∞í - Ïã§Ï†úÎ°úÎäî APIÏóêÏÑú Í∞ÄÏ†∏ÏôÄÏïº Ìï®
                        studentCount: course.enrollmentCount || 0
                    });
                    
                } else {
                    throw new Error('API Ìò∏Ï∂ú Ïã§Ìå®');
                }
                
            } catch (error) {
                console.error('Í≥ºÏ†ï Î°úÎìú Ïò§Î•ò:', error);
                loading.style.display = 'none';
                
                // Ïò§Î•ò Ïãú ÏÉòÌîå Îç∞Ïù¥ÌÑ∞ ÏÇ¨Ïö©
                courseContent.style.display = 'block';
                
                // Î°úÎî© ÏãúÎÆ¨Î†àÏù¥ÏÖò
                await new Promise(resolve => setTimeout(resolve, 500));
                
                // ÏÉòÌîå Îç∞Ïù¥ÌÑ∞Î°ú Í≥ºÏ†ï Ï†ïÎ≥¥ ÌëúÏãú
                const sampleCourses = {
                    '1': {
                        id: 1,
                        title: 'JavaScript Í∏∞Ï¥à ÌîÑÎ°úÍ∑∏ÎûòÎ∞ç',
                        description: 'JavaScriptÏùò Í∏∞Î≥∏ Î¨∏Î≤ïÎ∂ÄÌÑ∞ Í≥†Í∏â Í∏∞Îä•ÍπåÏßÄ Ï≤¥Í≥ÑÏ†ÅÏúºÎ°ú ÌïôÏäµÌï©ÎãàÎã§. Î≥ÄÏàò, Ìï®Ïàò, Í∞ùÏ≤¥, Î∞∞Ïó¥ Îì±Ïùò Í∏∞Î≥∏ Í∞úÎÖêÏùÑ ÏùµÌûàÍ≥†, DOM Ï°∞ÏûëÍ≥º Ïù¥Î≤§Ìä∏ Ï≤òÎ¶¨Î•º ÌÜµÌï¥ Ïù∏ÌÑ∞ÎûôÌã∞Î∏åÌïú Ïõπ ÌéòÏù¥ÏßÄÎ•º ÎßåÎì§ Ïàò ÏûàÏäµÎãàÎã§.',
                        instructorName: 'ÍπÄÍ∞ïÏÇ¨',
                        level: 'Ï¥àÍ∏â',
                        category: 'Ïõπ Í∞úÎ∞ú',
                        progress: 65,
                        studentCount: 127,
                        lectures: [
                            { id: 1, title: 'JavaScript ÏÜåÍ∞ú', type: 'video', duration: 30, status: 'completed' },
                            { id: 2, title: 'Î≥ÄÏàòÏôÄ Îç∞Ïù¥ÌÑ∞ ÌÉÄÏûÖ', type: 'video', duration: 45, status: 'completed' },
                            { id: 3, title: 'Ìï®ÏàòÏôÄ Ïä§ÏΩîÌîÑ', type: 'video', duration: 60, status: 'current' },
                            { id: 4, title: 'Í∞ùÏ≤¥ÏôÄ Î∞∞Ïó¥', type: 'video', duration: 50, status: 'locked' },
                            { id: 5, title: 'DOM Ï°∞Ïûë', type: 'video', duration: 75, status: 'locked' }
                        ]
                    },
                    '2': {
                        id: 2,
                        title: 'ÏïåÍ≥†Î¶¨Ï¶òÍ≥º ÏûêÎ£åÍµ¨Ï°∞',
                        description: 'ÌîÑÎ°úÍ∑∏ÎûòÎ∞çÏùò ÌïµÏã¨Ïù∏ ÏïåÍ≥†Î¶¨Ï¶òÍ≥º ÏûêÎ£åÍµ¨Ï°∞Î•º Ï≤¥Í≥ÑÏ†ÅÏúºÎ°ú ÌïôÏäµÌï©ÎãàÎã§.',
                        instructorName: 'Ïù¥ÍµêÏàò',
                        level: 'Ï§ëÍ∏â',
                        category: 'Ïª¥Ìì®ÌÑ∞Í≥ºÌïô',
                        progress: 30,
                        studentCount: 89,
                        lectures: []
                    },
                    '3': {
                        id: 3,
                        title: 'React Ïõπ Í∞úÎ∞ú',
                        description: 'ReactÎ•º ÌôúÏö©Ìïú ÌòÑÎåÄÏ†ÅÏù∏ Ïõπ Ïï†ÌîåÎ¶¨ÏºÄÏù¥ÏÖò Í∞úÎ∞úÏùÑ ÌïôÏäµÌï©ÎãàÎã§.',
                        instructorName: 'Î∞ïÍ∞úÎ∞ú',
                        level: 'Í≥†Í∏â',
                        category: 'Ïõπ Í∞úÎ∞ú',
                        progress: 0,
                        studentCount: 56,
                        lectures: []
                    }
                };
                
                const course = sampleCourses[courseId];
                if (!course) {
                    showError('Ï°¥Ïû¨ÌïòÏßÄ ÏïäÎäî Í≥ºÏ†ïÏûÖÎãàÎã§.');
                    return;
                }
                
                renderCourseDetail(course);
            }
        }
        
        // Í≥ºÏ†ï ÏÉÅÏÑ∏ Ï†ïÎ≥¥ Î†åÎçîÎßÅ
        function renderCourseDetail(course) {
            // Ìó§Îçî Ï†ïÎ≥¥ ÏóÖÎç∞Ïù¥Ìä∏
            document.getElementById('course-title').textContent = course.title;
            document.getElementById('course-breadcrumb').textContent = course.title;
            document.getElementById('instructor-name').textContent = course.instructorName;
            document.getElementById('course-level').textContent = course.level;
            document.getElementById('course-category').textContent = course.category;
            document.getElementById('student-count').textContent = course.studentCount;
            document.getElementById('progress-percent').textContent = course.progress + '%';
            document.getElementById('progress-fill').style.width = course.progress + '%';
            document.getElementById('course-description').textContent = course.description;
            
            // ÎßÅÌÅ¨ ÏóÖÎç∞Ïù¥Ìä∏
            document.getElementById('materials-link').href = `/course-materials.html?id=${course.id}`;
            document.getElementById('discussions-link').href = `/course-discussions.html?id=${course.id}`;
            
            // Í∞ïÏùò Î™©Î°ù Î†åÎçîÎßÅ
            renderLectures(course.lectures || []);
            
            // ÌÜµÍ≥Ñ ÏóÖÎç∞Ïù¥Ìä∏
            const completedLectures = course.lectures ? course.lectures.filter(l => l.status === 'completed').length : 0;
            const totalLectures = course.lectures ? course.lectures.length : 0;
            
            document.getElementById('completed-lectures').textContent = completedLectures;
            document.getElementById('total-lectures').textContent = totalLectures;
            document.getElementById('study-time').textContent = '12ÏãúÍ∞Ñ';
            document.getElementById('assignments-completed').textContent = '3/5';
            
            // Í≥ºÏ†ú Î™©Î°ù Î†åÎçîÎßÅ
            renderAssignments();
        }
        
        // Í∞ïÏùò Î™©Î°ù Î†åÎçîÎßÅ
        function renderLectures(lectures) {
            const lectureList = document.getElementById('lecture-list');
            
            if (lectures.length === 0) {
                lectureList.innerHTML = '<p style="text-align: center; color: #718096; padding: 2rem;">ÏïÑÏßÅ Îì±Î°ùÎêú Í∞ïÏùòÍ∞Ä ÏóÜÏäµÎãàÎã§.</p>';
                return;
            }
            
            lectureList.innerHTML = lectures.map((lecture, index) => {
                const statusIcon = {
                    'completed': '‚úÖ',
                    'current': '‚ñ∂Ô∏è',
                    'locked': 'üîí'
                }[lecture.status];
                
                const statusClass = `status-${lecture.status}`;
                
                return `
                    <div class="lecture-item" onclick="openLecture(${lecture.id}, '${lecture.status}')">
                        <div class="lecture-icon">
                            ${lecture.type === 'video' ? 'üé•' : 'üìÑ'}
                        </div>
                        <div class="lecture-content">
                            <div class="lecture-title">${lecture.title}</div>
                            <div class="lecture-meta">${lecture.duration}Î∂Ñ | ${lecture.type === 'video' ? 'ÎèôÏòÅÏÉÅ' : 'Î¨∏ÏÑú'}</div>
                        </div>
                        <div class="lecture-status ${statusClass}">
                            ${statusIcon}
                        </div>
                    </div>
                `;
            }).join('');
        }
        
        // Í≥ºÏ†ú Î™©Î°ù Î†åÎçîÎßÅ
        function renderAssignments() {
            const assignmentsList = document.getElementById('assignments-list');
            
            const sampleAssignments = [
                { id: 1, title: 'Í∏∞Î≥∏ Î¨∏Î≤ï ÌÄ¥Ï¶à', type: 'quiz', status: 'completed', score: 85 },
                { id: 2, title: 'Ìï®Ïàò Ïã§Ïäµ Í≥ºÏ†ú', type: 'assignment', status: 'submitted', score: null },
                { id: 3, title: 'ÌîÑÎ°úÏ†ùÌä∏ Í≥ºÏ†ú', type: 'project', status: 'pending', score: null }
            ];
            
            assignmentsList.innerHTML = sampleAssignments.map(assignment => {
                const statusText = {
                    'completed': 'ÏôÑÎ£å',
                    'submitted': 'Ï†úÏ∂ú ÏôÑÎ£å',
                    'pending': 'ÎØ∏Ï†úÏ∂ú'
                }[assignment.status];
                
                const statusColor = {
                    'completed': '#38a169',
                    'submitted': '#667eea',
                    'pending': '#e53e3e'
                }[assignment.status];
                
                return `
                    <div style="padding: 1rem; border: 1px solid #e2e8f0; border-radius: 8px; margin-bottom: 1rem; cursor: pointer;" onclick="openAssignment(${assignment.id})">
                        <div style="font-weight: 600; margin-bottom: 0.5rem;">${assignment.title}</div>
                        <div style="font-size: 0.9rem; color: ${statusColor};">
                            ${statusText} ${assignment.score ? `(${assignment.score}Ï†ê)` : ''}
                        </div>
                    </div>
                `;
            }).join('');
        }
        
        // Ïò§Î•ò Î©îÏãúÏßÄ ÌëúÏãú
        function showError(message) {
            document.getElementById('loading').style.display = 'none';
            document.getElementById('course-content').style.display = 'none';
            document.getElementById('error-message').style.display = 'block';
            document.getElementById('error-text').textContent = message;
        }
        
        // ÌïôÏäµ ÏãúÏûë
        function startLearning() {
            // Ï≤´ Î≤àÏß∏ ÎØ∏ÏôÑÎ£å Í∞ïÏùòÎ°ú Ïù¥Îèô
            window.location.href = `/lecture.html?courseId=${courseId}&lectureId=3`;
        }
        
        // Í∞ïÏùò Ïó¥Í∏∞
        function openLecture(lectureId, status) {
            if (status === 'locked') {
                alert('Ïù¥Ï†Ñ Í∞ïÏùòÎ•º ÏôÑÎ£åÌïú ÌõÑ ÌïôÏäµÌï† Ïàò ÏûàÏäµÎãàÎã§.');
                return;
            }
            window.location.href = `/lecture.html?courseId=${courseId}&lectureId=${lectureId}`;
        }
        
        // Í≥ºÏ†ú Ïó¥Í∏∞
        function openAssignment(assignmentId) {
            window.location.href = `/assignment.html?courseId=${courseId}&assignmentId=${assignmentId}`;
        }
        
        // Î°úÍ∑∏ÏïÑÏõÉ
        function logout() {
            if (confirm('Î°úÍ∑∏ÏïÑÏõÉ ÌïòÏãúÍ≤†ÏäµÎãàÍπå?')) {
                localStorage.removeItem('authToken');
                localStorage.removeItem('userInfo');
                window.location.href = '/';
            }
        }
    </script>
</body>
</html>