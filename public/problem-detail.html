<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ë¬¸ì œ ìƒì„¸ - PBT LMS</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            line-height: 1.6;
        }
        
        .navbar {
            background: rgba(255, 255, 255, 0.95);
            padding: 1rem 2rem;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
            backdrop-filter: blur(10px);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .navbar .logo {
            font-size: 1.5rem;
            font-weight: 700;
            color: #4a5568;
        }
        
        .navbar .nav-links {
            display: flex;
            gap: 1rem;
            align-items: center;
        }
        
        .navbar .nav-link {
            color: #4a5568;
            text-decoration: none;
            padding: 0.5rem 1rem;
            border-radius: 8px;
            transition: all 0.3s ease;
        }
        
        .navbar .nav-link:hover {
            background: rgba(102, 126, 234, 0.1);
            color: #667eea;
        }
        
        .navbar .logout-btn {
            padding: 0.5rem 1rem;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 500;
            transition: all 0.3s ease;
        }
        
        .container {
            max-width: 1400px;
            margin: 2rem auto;
            padding: 0 2rem;
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 2rem;
            height: calc(100vh - 120px);
        }
        
        .problem-panel {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 15px;
            padding: 2rem;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.15);
            overflow-y: auto;
        }
        
        .code-panel {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 15px;
            padding: 1rem;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.15);
            display: flex;
            flex-direction: column;
        }
        
        .problem-header {
            border-bottom: 2px solid #e2e8f0;
            padding-bottom: 1rem;
            margin-bottom: 1.5rem;
        }
        
        .problem-title {
            color: #4a5568;
            font-size: 1.8rem;
            font-weight: 700;
            margin-bottom: 0.5rem;
        }
        
        .problem-meta {
            display: flex;
            gap: 1rem;
            margin-bottom: 1rem;
        }
        
        .meta-tag {
            padding: 0.4rem 1rem;
            border-radius: 20px;
            font-weight: 500;
            font-size: 0.9rem;
        }
        
        .difficulty-beginner {
            background: #c6f6d5;
            color: #276749;
        }
        
        .difficulty-intermediate {
            background: #fed7c3;
            color: #c05621;
        }
        
        .difficulty-advanced {
            background: #fed7e2;
            color: #9b2c2c;
        }
        
        .category-tag {
            background: #e6fffa;
            color: #234e52;
        }
        
        .problem-description {
            color: #4a5568;
            line-height: 1.8;
            margin-bottom: 1.5rem;
        }
        
        .problem-examples {
            margin-top: 1.5rem;
        }
        
        .example {
            background: #f7fafc;
            border: 1px solid #e2e8f0;
            border-radius: 8px;
            padding: 1rem;
            margin-bottom: 1rem;
        }
        
        .example-title {
            font-weight: 600;
            color: #4a5568;
            margin-bottom: 0.5rem;
        }
        
        .example-content {
            background: #1a202c;
            color: #f7fafc;
            padding: 0.8rem;
            border-radius: 6px;
            font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
            font-size: 0.9rem;
        }
        
        .code-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
        }
        
        .language-selector {
            padding: 0.5rem;
            border: 2px solid #e2e8f0;
            border-radius: 8px;
            background: white;
        }
        
        .code-editor {
            flex: 1;
            background: #1a202c;
            border: none;
            border-radius: 8px;
            padding: 1rem;
            color: #f7fafc;
            font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
            font-size: 14px;
            resize: none;
            outline: none;
            margin-bottom: 1rem;
        }
        
        .action-buttons {
            display: flex;
            gap: 1rem;
            margin-bottom: 1rem;
        }
        
        .btn {
            padding: 0.8rem 1.5rem;
            border: none;
            border-radius: 8px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 0.9rem;
        }
        
        .btn-run {
            background: #4299e1;
            color: white;
        }
        
        .btn-run:hover {
            background: #3182ce;
        }
        
        .btn-submit {
            background: #48bb78;
            color: white;
        }
        
        .btn-submit:hover {
            background: #38a169;
        }
        
        .btn-reset {
            background: #ed8936;
            color: white;
        }
        
        .btn-reset:hover {
            background: #dd6b20;
        }
        
        .output-section {
            background: #f7fafc;
            border: 1px solid #e2e8f0;
            border-radius: 8px;
            padding: 1rem;
            min-height: 150px;
        }
        
        .output-header {
            font-weight: 600;
            color: #4a5568;
            margin-bottom: 0.5rem;
        }
        
        .output-content {
            background: #1a202c;
            color: #f7fafc;
            padding: 0.8rem;
            border-radius: 6px;
            font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
            font-size: 0.9rem;
            white-space: pre-wrap;
            min-height: 100px;
        }
        
        .loading {
            display: none;
            text-align: center;
            padding: 2rem;
        }
        
        .spinner {
            border: 3px solid #f3f3f3;
            border-top: 3px solid #667eea;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
            margin: 0 auto 1rem;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        @media (max-width: 1200px) {
            .container {
                grid-template-columns: 1fr;
                height: auto;
            }
            
            .code-panel {
                min-height: 600px;
            }
        }
        
        @media (max-width: 768px) {
            .navbar {
                padding: 1rem;
                flex-direction: column;
                gap: 1rem;
            }
            
            .container {
                padding: 0 1rem;
                gap: 1rem;
            }
            
            .problem-panel, .code-panel {
                padding: 1rem;
            }
            
            .action-buttons {
                flex-direction: column;
            }
        }
    </style>
</head>
<body>
    <nav class="navbar">
        <div class="logo">ğŸ§© PBT LMS</div>
        <div class="nav-links">
            <a href="/dashboard.html" class="nav-link">ëŒ€ì‹œë³´ë“œ</a>
            <a href="/courses.html" class="nav-link">ë‚´ ê³¼ì •</a>
            <a href="/problems.html" class="nav-link">ë¬¸ì œ ëª©ë¡</a>
            <a href="/discussions.html" class="nav-link">í† ë¡ </a>
            <button class="logout-btn" onclick="logout()">ë¡œê·¸ì•„ì›ƒ</button>
        </div>
    </nav>
    
    <div class="container">
        <!-- ë¬¸ì œ ì •ë³´ íŒ¨ë„ -->
        <div class="problem-panel">
            <div id="loading" class="loading">
                <div class="spinner"></div>
                <p>ë¬¸ì œ ì •ë³´ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...</p>
            </div>
            
            <div id="problem-content" style="display: none;">
                <div class="problem-header">
                    <h1 id="problem-title" class="problem-title">ë¬¸ì œ ì œëª©</h1>
                    <div id="problem-meta" class="problem-meta">
                        <!-- ë©”íƒ€ ì •ë³´ê°€ ì—¬ê¸°ì— ì¶”ê°€ë©ë‹ˆë‹¤ -->
                    </div>
                </div>
                
                <div id="problem-description" class="problem-description">
                    <!-- ë¬¸ì œ ì„¤ëª…ì´ ì—¬ê¸°ì— ì¶”ê°€ë©ë‹ˆë‹¤ -->
                </div>
                
                <div class="problem-examples">
                    <h3>ì˜ˆì œ</h3>
                    <div id="examples-container">
                        <!-- ì˜ˆì œë“¤ì´ ì—¬ê¸°ì— ì¶”ê°€ë©ë‹ˆë‹¤ -->
                    </div>
                </div>
            </div>
        </div>
        
        <!-- ì½”ë“œ ì—ë””í„° íŒ¨ë„ -->
        <div class="code-panel">
            <div class="code-header">
                <h3>ì½”ë“œ ì‘ì„±</h3>
                <select id="language-selector" class="language-selector" onchange="changeLanguage()">
                    <option value="python">Python</option>
                    <option value="javascript">JavaScript</option>
                    <option value="java">Java</option>
                    <option value="cpp">C++</option>
                </select>
            </div>
            
            <textarea id="code-editor" class="code-editor" placeholder="ì—¬ê¸°ì— ì½”ë“œë¥¼ ì‘ì„±í•˜ì„¸ìš”..."></textarea>
            
            <div class="action-buttons">
                <button class="btn btn-run" onclick="runCode()">â–¶ï¸ ì‹¤í–‰</button>
                <button class="btn btn-submit" onclick="submitCode()">âœ… ì œì¶œ</button>
                <button class="btn btn-reset" onclick="resetCode()">ğŸ”„ ì´ˆê¸°í™”</button>
            </div>
            
            <div class="output-section">
                <div class="output-header">ì‹¤í–‰ ê²°ê³¼</div>
                <div id="output-content" class="output-content">ì½”ë“œë¥¼ ì‹¤í–‰í•˜ë©´ ê²°ê³¼ê°€ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤.</div>
            </div>
        </div>
    </div>

    <script>
        let currentProblem = null;
        let problemId = null;
        
        // í˜ì´ì§€ ë¡œë“œ ì‹œ ì¸ì¦ í™•ì¸ ë° ë¬¸ì œ ì •ë³´ ë¡œë“œ
        document.addEventListener('DOMContentLoaded', async () => {
            const token = localStorage.getItem('authToken');
            
            if (!token) {
                alert('ë¡œê·¸ì¸ì´ í•„ìš”í•©ë‹ˆë‹¤.');
                window.location.href = '/login.html';
                return;
            }
            
            // URLì—ì„œ ë¬¸ì œ ID ì¶”ì¶œ
            const urlParams = new URLSearchParams(window.location.search);
            problemId = urlParams.get('id');
            
            if (!problemId) {
                alert('ìœ íš¨í•˜ì§€ ì•Šì€ ë¬¸ì œ IDì…ë‹ˆë‹¤.');
                window.location.href = '/problems.html';
                return;
            }
            
            await loadProblem(problemId);
        });
        
        // ë¬¸ì œ ì •ë³´ ë¡œë“œ
        async function loadProblem(id) {
            const loading = document.getElementById('loading');
            const problemContent = document.getElementById('problem-content');
            const token = localStorage.getItem('authToken');
            
            try {
                const response = await fetch(`/api/problems/${id}`, {
                    headers: {
                        'Authorization': `Bearer ${token}`
                    }
                });
                
                if (response.ok) {
                    const result = await response.json();
                    currentProblem = result.problem || result.data;
                    
                    loading.style.display = 'none';
                    problemContent.style.display = 'block';
                    
                    renderProblem(currentProblem);
                } else {
                    console.log('API ì‘ë‹µ ì‹¤íŒ¨, ìƒ˜í”Œ ë°ì´í„° ì‚¬ìš©');
                    loading.style.display = 'none';
                    problemContent.style.display = 'block';
                    loadSampleProblem(id);
                }
                
            } catch (error) {
                console.error('ë¬¸ì œ ë¡œë“œ ì˜¤ë¥˜:', error);
                loading.style.display = 'none';
                problemContent.style.display = 'block';
                loadSampleProblem(id);
            }
        }
        
        // ìƒ˜í”Œ ë¬¸ì œ ë°ì´í„° ë¡œë“œ
        function loadSampleProblem(id) {
            const sampleProblems = {
                '1': {
                    id: 1,
                    title: 'ë‘ ìˆ˜ì˜ í•©',
                    description: `ì •ìˆ˜ ë°°ì—´ numsì™€ ì •ìˆ˜ targetì´ ì£¼ì–´ì¡Œì„ ë•Œ, targetê³¼ ê°™ì€ ê°’ì´ ë˜ëŠ” ë‘ ìˆ˜ì˜ ì¸ë±ìŠ¤ë¥¼ ë°˜í™˜í•˜ì„¸ìš”.

ê° ì…ë ¥ì— ëŒ€í•´ ì •í™•íˆ í•˜ë‚˜ì˜ í•´ë‹µì´ ì¡´ì¬í•œë‹¤ê³  ê°€ì •í•  ìˆ˜ ìˆìœ¼ë©°, ê°™ì€ ì›ì†Œë¥¼ ë‘ ë²ˆ ì‚¬ìš©í•  ìˆ˜ëŠ” ì—†ìŠµë‹ˆë‹¤.

ë‹µì€ ì–´ë–¤ ìˆœì„œë¡œë“  ë°˜í™˜í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.`,
                    difficulty: 'beginner',
                    category: 'algorithm',
                    maxScore: 100,
                    timeLimit: 30,
                    examples: [
                        {
                            input: 'nums = [2,7,11,15], target = 9',
                            output: '[0,1]',
                            explanation: 'nums[0] + nums[1] = 2 + 7 = 9ì´ë¯€ë¡œ [0, 1]ì„ ë°˜í™˜í•©ë‹ˆë‹¤.'
                        },
                        {
                            input: 'nums = [3,2,4], target = 6',
                            output: '[1,2]',
                            explanation: 'nums[1] + nums[2] = 2 + 4 = 6ì´ë¯€ë¡œ [1, 2]ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.'
                        }
                    ]
                },
                '2': {
                    id: 2,
                    title: 'ìŠ¤íƒ êµ¬í˜„í•˜ê¸°',
                    description: `ê¸°ë³¸ì ì¸ ìŠ¤íƒ ìë£Œêµ¬ì¡°ë¥¼ êµ¬í˜„í•˜ì„¸ìš”. ìŠ¤íƒì€ LIFO(Last In First Out) ë°©ì‹ìœ¼ë¡œ ë™ì‘í•©ë‹ˆë‹¤.

ë‹¤ìŒ ì—°ì‚°ë“¤ì„ êµ¬í˜„í•´ì•¼ í•©ë‹ˆë‹¤:
- push(x): ì›ì†Œ xë¥¼ ìŠ¤íƒì˜ ë§¨ ìœ„ì— ì¶”ê°€
- pop(): ìŠ¤íƒì˜ ë§¨ ìœ„ ì›ì†Œë¥¼ ì œê±°í•˜ê³  ë°˜í™˜
- top(): ìŠ¤íƒì˜ ë§¨ ìœ„ ì›ì†Œë¥¼ ë°˜í™˜ (ì œê±°í•˜ì§€ ì•ŠìŒ)
- empty(): ìŠ¤íƒì´ ë¹„ì–´ìˆìœ¼ë©´ true, ì•„ë‹ˆë©´ false ë°˜í™˜`,
                    difficulty: 'beginner',
                    category: 'data-structure',
                    maxScore: 100,
                    timeLimit: 45,
                    examples: [
                        {
                            input: 'stack.push(1)\nstack.push(2)\nstack.top()',
                            output: '2',
                            explanation: 'ìŠ¤íƒì— 1, 2ë¥¼ ìˆœì„œëŒ€ë¡œ ì¶”ê°€í•œ í›„ ë§¨ ìœ„ ì›ì†Œì¸ 2ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.'
                        }
                    ]
                },
                '3': {
                    id: 3,
                    title: 'ì´ì§„ íƒìƒ‰ íŠ¸ë¦¬',
                    description: `ì´ì§„ íƒìƒ‰ íŠ¸ë¦¬(Binary Search Tree)ë¥¼ êµ¬í˜„í•˜ì„¸ìš”.

êµ¬í˜„í•´ì•¼ í•  ì—°ì‚°ë“¤:
- insert(val): ê°’ì„ íŠ¸ë¦¬ì— ì‚½ì…
- search(val): ê°’ì´ íŠ¸ë¦¬ì— ìˆëŠ”ì§€ ê²€ìƒ‰
- delete(val): ê°’ì„ íŠ¸ë¦¬ì—ì„œ ì‚­ì œ
- inorder(): ì¤‘ìœ„ ìˆœíšŒ ê²°ê³¼ ë°˜í™˜`,
                    difficulty: 'intermediate',
                    category: 'data-structure',
                    maxScore: 150,
                    timeLimit: 60,
                    examples: [
                        {
                            input: 'bst.insert(5)\nbst.insert(3)\nbst.insert(7)\nbst.inorder()',
                            output: '[3, 5, 7]',
                            explanation: 'ì¤‘ìœ„ ìˆœíšŒ ì‹œ ì˜¤ë¦„ì°¨ìˆœìœ¼ë¡œ ì •ë ¬ëœ ê²°ê³¼ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.'
                        }
                    ]
                },
                '4': {
                    id: 4,
                    title: 'REST API ì„¤ê³„',
                    description: `ì‚¬ìš©ì ê´€ë¦¬ë¥¼ ìœ„í•œ RESTful APIë¥¼ ì„¤ê³„í•˜ê³  êµ¬í˜„í•˜ì„¸ìš”.

í•„ìš”í•œ ì—”ë“œí¬ì¸íŠ¸ë“¤:
- GET /users: ëª¨ë“  ì‚¬ìš©ì ì¡°íšŒ
- GET /users/:id: íŠ¹ì • ì‚¬ìš©ì ì¡°íšŒ
- POST /users: ìƒˆ ì‚¬ìš©ì ìƒì„±
- PUT /users/:id: ì‚¬ìš©ì ì •ë³´ ìˆ˜ì •
- DELETE /users/:id: ì‚¬ìš©ì ì‚­ì œ

ê° ì—”ë“œí¬ì¸íŠ¸ëŠ” ì ì ˆí•œ HTTP ìƒíƒœ ì½”ë“œì™€ ì‘ë‹µì„ ë°˜í™˜í•´ì•¼ í•©ë‹ˆë‹¤.`,
                    difficulty: 'intermediate',
                    category: 'web-development',
                    maxScore: 200,
                    timeLimit: 90,
                    examples: [
                        {
                            input: 'GET /users/1',
                            output: '{"id": 1, "name": "John", "email": "john@example.com"}',
                            explanation: 'IDê°€ 1ì¸ ì‚¬ìš©ìì˜ ì •ë³´ë¥¼ JSON í˜•íƒœë¡œ ë°˜í™˜í•©ë‹ˆë‹¤.'
                        }
                    ]
                },
                '5': {
                    id: 5,
                    title: 'ê·¸ë˜í”„ ìµœë‹¨ ê²½ë¡œ',
                    description: `ê°€ì¤‘ì¹˜ê°€ ìˆëŠ” ë°©í–¥ ê·¸ë˜í”„ì—ì„œ ì‹œì‘ ë…¸ë“œë¶€í„° ëª¨ë“  ë‹¤ë¥¸ ë…¸ë“œê¹Œì§€ì˜ ìµœë‹¨ ê²½ë¡œë¥¼ ì°¾ëŠ” ë‹¤ìµìŠ¤íŠ¸ë¼ ì•Œê³ ë¦¬ì¦˜ì„ êµ¬í˜„í•˜ì„¸ìš”.

ì…ë ¥:
- graph: ì¸ì ‘ ë¦¬ìŠ¤íŠ¸ë¡œ í‘œí˜„ëœ ê·¸ë˜í”„
- start: ì‹œì‘ ë…¸ë“œ

ì¶œë ¥:
- ì‹œì‘ ë…¸ë“œë¶€í„° ê° ë…¸ë“œê¹Œì§€ì˜ ìµœë‹¨ ê±°ë¦¬ë¥¼ ë‹´ì€ ë”•ì…”ë„ˆë¦¬`,
                    difficulty: 'advanced',
                    category: 'algorithm',
                    maxScore: 300,
                    timeLimit: 120,
                    examples: [
                        {
                            input: 'graph = {0: [(1, 4), (2, 2)], 1: [(2, 1), (3, 5)], 2: [(3, 8)], 3: []}\nstart = 0',
                            output: '{0: 0, 1: 4, 2: 2, 3: 9}',
                            explanation: 'ì‹œì‘ ë…¸ë“œ 0ë¶€í„° ê° ë…¸ë“œê¹Œì§€ì˜ ìµœë‹¨ ê±°ë¦¬ì…ë‹ˆë‹¤.'
                        }
                    ]
                }
            };
            
            currentProblem = sampleProblems[id] || sampleProblems['1'];
            renderProblem(currentProblem);
        }
        
        // ë¬¸ì œ ë Œë”ë§
        function renderProblem(problem) {
            // ì œëª© ì„¤ì •
            document.getElementById('problem-title').textContent = problem.title;
            document.title = `${problem.title} - PBT LMS`;
            
            // ë©”íƒ€ ì •ë³´ ì„¤ì •
            const metaContainer = document.getElementById('problem-meta');
            const difficultyClass = `difficulty-${problem.difficulty}`;
            const difficultyText = {
                'beginner': 'ì´ˆê¸‰',
                'intermediate': 'ì¤‘ê¸‰',
                'advanced': 'ê³ ê¸‰'
            }[problem.difficulty] || 'ì´ˆê¸‰';
            
            const categoryText = {
                'algorithm': 'ì•Œê³ ë¦¬ì¦˜',
                'data-structure': 'ìë£Œêµ¬ì¡°',
                'web-development': 'ì›¹ ê°œë°œ',
                'database': 'ë°ì´í„°ë² ì´ìŠ¤'
            }[problem.category] || problem.category;
            
            metaContainer.innerHTML = `
                <span class="meta-tag ${difficultyClass}">${difficultyText}</span>
                <span class="meta-tag category-tag">${categoryText}</span>
                <span class="meta-tag">ìµœëŒ€ ì ìˆ˜: ${problem.maxScore}ì </span>
                ${problem.timeLimit ? `<span class="meta-tag">â±ï¸ ${problem.timeLimit}ë¶„</span>` : ''}
            `;
            
            // ë¬¸ì œ ì„¤ëª… ì„¤ì •
            document.getElementById('problem-description').innerHTML = problem.description.replace(/\n/g, '<br>');
            
            // ì˜ˆì œ ì„¤ì •
            const examplesContainer = document.getElementById('examples-container');
            if (problem.examples && problem.examples.length > 0) {
                examplesContainer.innerHTML = problem.examples.map((example, index) => `
                    <div class="example">
                        <div class="example-title">ì˜ˆì œ ${index + 1}</div>
                        <div style="margin-bottom: 0.5rem;">
                            <strong>ì…ë ¥:</strong>
                            <div class="example-content">${example.input}</div>
                        </div>
                        <div style="margin-bottom: 0.5rem;">
                            <strong>ì¶œë ¥:</strong>
                            <div class="example-content">${example.output}</div>
                        </div>
                        ${example.explanation ? `
                            <div>
                                <strong>ì„¤ëª…:</strong> ${example.explanation}
                            </div>
                        ` : ''}
                    </div>
                `).join('');
            } else {
                examplesContainer.innerHTML = '<p>ì˜ˆì œê°€ ì¤€ë¹„ë˜ì–´ ìˆì§€ ì•ŠìŠµë‹ˆë‹¤.</p>';
            }
            
            // ê¸°ë³¸ ì½”ë“œ í…œí”Œë¦¿ ì„¤ì •
            setDefaultCode();
        }
        
        // ì–¸ì–´ë³„ ê¸°ë³¸ ì½”ë“œ í…œí”Œë¦¿
        const codeTemplates = {
            python: `def solution():
    # ì—¬ê¸°ì— ì½”ë“œë¥¼ ì‘ì„±í•˜ì„¸ìš”
    pass

# í…ŒìŠ¤íŠ¸
if __name__ == "__main__":
    result = solution()
    print(result)`,
            javascript: `function solution() {
    // ì—¬ê¸°ì— ì½”ë“œë¥¼ ì‘ì„±í•˜ì„¸ìš”
    
}

// í…ŒìŠ¤íŠ¸
console.log(solution());`,
            java: `public class Solution {
    public static void main(String[] args) {
        Solution sol = new Solution();
        // ì—¬ê¸°ì— í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ì‘ì„±í•˜ì„¸ìš”
    }
    
    public void solution() {
        // ì—¬ê¸°ì— ì½”ë“œë¥¼ ì‘ì„±í•˜ì„¸ìš”
        
    }
}`,
            cpp: `#include <iostream>
#include <vector>
using namespace std;

int main() {
    // ì—¬ê¸°ì— ì½”ë“œë¥¼ ì‘ì„±í•˜ì„¸ìš”
    
    return 0;
}`
        };
        
        // ì–¸ì–´ ë³€ê²½
        function changeLanguage() {
            setDefaultCode();
        }
        
        // ê¸°ë³¸ ì½”ë“œ ì„¤ì •
        function setDefaultCode() {
            const language = document.getElementById('language-selector').value;
            const codeEditor = document.getElementById('code-editor');
            codeEditor.value = codeTemplates[language] || codeTemplates.python;
        }
        
        // ì½”ë“œ ì‹¤í–‰
        async function runCode() {
            const language = document.getElementById('language-selector').value;
            const code = document.getElementById('code-editor').value;
            const outputContent = document.getElementById('output-content');
            const token = localStorage.getItem('authToken');
            
            outputContent.textContent = 'ì‹¤í–‰ ì¤‘...';
            
            try {
                const response = await fetch(`/api/problems/${problemId}/run`, {
                    method: 'POST',
                    headers: {
                        'Authorization': `Bearer ${token}`,
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({
                        code: code,
                        language: language
                    })
                });
                
                const result = await response.json();
                
                if (response.ok) {
                    outputContent.textContent = result.output || 'ì‹¤í–‰ ì™„ë£Œ';
                } else {
                    outputContent.textContent = `ì˜¤ë¥˜: ${result.message}`;
                }
                
            } catch (error) {
                console.error('ì½”ë“œ ì‹¤í–‰ ì˜¤ë¥˜:', error);
                outputContent.textContent = `ì‹¤í–‰ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤: ${error.message}`;
            }
        }
        
        // ì½”ë“œ ì œì¶œ
        async function submitCode() {
            const language = document.getElementById('language-selector').value;
            const code = document.getElementById('code-editor').value;
            const token = localStorage.getItem('authToken');
            
            if (!code.trim()) {
                alert('ì½”ë“œë¥¼ ì‘ì„±í•´ì£¼ì„¸ìš”.');
                return;
            }
            
            if (!confirm('ì½”ë“œë¥¼ ì œì¶œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?')) {
                return;
            }
            
            try {
                const response = await fetch(`/api/problems/${problemId}/submit`, {
                    method: 'POST',
                    headers: {
                        'Authorization': `Bearer ${token}`,
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({
                        code: code,
                        language: language
                    })
                });
                
                const result = await response.json();
                
                if (response.ok) {
                    alert(`ì œì¶œì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤!\nì ìˆ˜: ${result.score || 0}ì `);
                } else {
                    alert(`ì œì¶œ ì‹¤íŒ¨: ${result.message}`);
                }
                
            } catch (error) {
                console.error('ì½”ë“œ ì œì¶œ ì˜¤ë¥˜:', error);
                alert(`ì œì¶œ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤: ${error.message}`);
            }
        }
        
        // ì½”ë“œ ì´ˆê¸°í™”
        function resetCode() {
            if (confirm('ì½”ë“œë¥¼ ì´ˆê¸°í™”í•˜ì‹œê² ìŠµë‹ˆê¹Œ? ì‘ì„±í•œ ë‚´ìš©ì´ ëª¨ë‘ ì‚¬ë¼ì§‘ë‹ˆë‹¤.')) {
                setDefaultCode();
            }
        }
        
        // ë¡œê·¸ì•„ì›ƒ
        function logout() {
            if (confirm('ë¡œê·¸ì•„ì›ƒ í•˜ì‹œê² ìŠµë‹ˆê¹Œ?')) {
                localStorage.removeItem('authToken');
                localStorage.removeItem('userInfo');
                window.location.href = '/';
            }
        }
    </script>
</body>
</html>