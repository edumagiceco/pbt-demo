<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ÏÉà Î©òÌÜ† ÏÉùÏÑ± - AI Ïù∏Ïû¨ Ïª§Î¶¨Ïñ¥ ÌîåÎû´Ìèº PBT</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            line-height: 1.6;
        }
        
        .navbar {
            background: rgba(255, 255, 255, 0.95);
            padding: 1rem 2rem;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
            backdrop-filter: blur(10px);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .navbar .logo {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            font-size: 1.2rem;
            font-weight: 700;
            color: #4a5568;
        }
        
        .navbar .logo img {
            height: 40px;
            width: auto;
        }
        
        .navbar .nav-links {
            display: flex;
            gap: 1rem;
            align-items: center;
        }
        
        .navbar .nav-links a {
            color: #4a5568;
            text-decoration: none;
            padding: 0.5rem 1rem;
            border-radius: 8px;
            transition: all 0.3s ease;
        }
        
        .navbar .nav-links a:hover {
            background: rgba(102, 126, 234, 0.1);
        }
        
        .container {
            max-width: 800px;
            margin: 2rem auto;
            padding: 0 2rem;
        }
        
        .page-header {
            background: rgba(255, 255, 255, 0.95);
            padding: 2rem;
            border-radius: 15px;
            margin-bottom: 2rem;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.15);
            text-align: center;
        }
        
        .page-header h1 {
            color: #4a5568;
            font-size: 2.5rem;
            margin-bottom: 1rem;
        }
        
        .page-header p {
            color: #718096;
            font-size: 1.1rem;
        }
        
        .form-container {
            background: rgba(255, 255, 255, 0.95);
            padding: 2rem;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.15);
        }
        
        .form-group {
            margin-bottom: 1.5rem;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            color: #4a5568;
            font-weight: 600;
        }
        
        .form-group input,
        .form-group textarea,
        .form-group select {
            width: 100%;
            padding: 0.75rem;
            border: 2px solid #e2e8f0;
            border-radius: 8px;
            font-size: 1rem;
            transition: all 0.3s ease;
        }
        
        .form-group input:focus,
        .form-group textarea:focus,
        .form-group select:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }
        
        .form-group textarea {
            resize: vertical;
            min-height: 100px;
        }
        
        .checkbox-group {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        .checkbox-group input[type="checkbox"] {
            width: auto;
        }
        
        .knowledge-section {
            border: 2px dashed #e2e8f0;
            padding: 2rem;
            border-radius: 10px;
            margin: 1.5rem 0;
            text-align: center;
        }
        
        .knowledge-type-tabs {
            display: flex;
            gap: 0.5rem;
            margin-bottom: 1.5rem;
            border-radius: 8px;
            background: #f7fafc;
            padding: 0.3rem;
        }
        
        .knowledge-tab {
            flex: 1;
            padding: 0.75rem;
            background: transparent;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-weight: 500;
            transition: all 0.3s ease;
        }
        
        .knowledge-tab.active {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }
        
        .knowledge-content {
            display: none;
        }
        
        .knowledge-content.active {
            display: block;
        }
        
        .file-upload-area {
            border: 2px dashed #cbd5e0;
            border-radius: 10px;
            padding: 2rem;
            text-align: center;
            transition: all 0.3s ease;
            cursor: pointer;
        }
        
        .file-upload-area:hover {
            border-color: #667eea;
            background: rgba(102, 126, 234, 0.05);
        }
        
        .file-upload-area.dragover {
            border-color: #667eea;
            background: rgba(102, 126, 234, 0.1);
        }
        
        .btn {
            padding: 0.75rem 2rem;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            text-decoration: none;
            display: inline-block;
            transition: all 0.3s ease;
            font-size: 1rem;
        }
        
        .btn-primary {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }
        
        .btn-secondary {
            background: #f7fafc;
            color: #4a5568;
            border: 2px solid #e2e8f0;
        }
        
        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }
        
        .btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
        }
        
        .form-actions {
            display: flex;
            gap: 1rem;
            justify-content: flex-end;
            margin-top: 2rem;
            padding-top: 2rem;
            border-top: 1px solid #e2e8f0;
        }
        
        .avatar-preview {
            width: 100px;
            height: 100px;
            border-radius: 50%;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2rem;
            color: white;
            margin: 0 auto 1rem auto;
            font-weight: bold;
        }
        
        .knowledge-item {
            background: #f7fafc;
            padding: 1rem;
            border-radius: 8px;
            margin-bottom: 1rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .knowledge-item .info {
            flex-grow: 1;
        }
        
        .knowledge-item .remove-btn {
            background: #fed7e2;
            color: #9b2c2c;
            border: none;
            border-radius: 4px;
            padding: 0.25rem 0.5rem;
            cursor: pointer;
            font-size: 0.8rem;
        }
        
        .progress-bar {
            width: 100%;
            height: 8px;
            background: #e2e8f0;
            border-radius: 4px;
            overflow: hidden;
            margin-top: 0.5rem;
        }
        
        .progress-fill {
            height: 100%;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            transition: width 0.3s ease;
        }
        
        @media (max-width: 768px) {
            .navbar {
                padding: 1rem;
                flex-direction: column;
                gap: 1rem;
            }
            
            .container {
                padding: 0 1rem;
            }
            
            .form-actions {
                flex-direction: column;
            }
            
            .knowledge-type-tabs {
                flex-direction: column;
            }
        }
    </style>
</head>
<body>
    <nav class="navbar">
        <div class="logo">
            <img src="/assets/images/pbt-logo.png" alt="PBT Logo">
            <span>AI Ïù∏Ïû¨ Ïª§Î¶¨Ïñ¥ ÌîåÎû´Ìèº PBT</span>
        </div>
        <div class="nav-links">
            <a href="/dashboard.html">ÎåÄÏãúÎ≥¥Îìú</a>
            <a href="/mentors.html">AI Î©òÌÜ†</a>
            <a href="/profile.html">ÌîÑÎ°úÌïÑ</a>
        </div>
    </nav>
    
    <div class="container">
        <div class="page-header">
            <h1>ü§ñ ÏÉà AI Î©òÌÜ† ÏÉùÏÑ±</h1>
            <p>ÎÇòÎßåÏùò Ï†ÑÎ¨∏ AI Î©òÌÜ†Î•º ÎßåÎì§Ïñ¥Î≥¥ÏÑ∏Ïöî</p>
        </div>
        
        <div class="form-container">
            <form id="mentorForm">
                <!-- Í∏∞Î≥∏ Ï†ïÎ≥¥ ÏÑπÏÖò -->
                <div class="form-group">
                    <label for="mentorName">Î©òÌÜ† Ïù¥Î¶Ñ *</label>
                    <input type="text" id="mentorName" name="name" required 
                           placeholder="Ïòà: Í∞úÎ∞ú Î©òÌÜ† Alex" maxlength="100">
                </div>
                
                <div class="form-group">
                    <label for="expertise">Ï†ÑÎ¨∏ Î∂ÑÏïº</label>
                    <input type="text" id="expertise" name="expertise" 
                           placeholder="Ïòà: ÌîÑÎ°úÍ∑∏ÎûòÎ∞ç, Îç∞Ïù¥ÌÑ∞ Î∂ÑÏÑù, ÎîîÏûêÏù∏" maxlength="200">
                </div>
                
                <div class="form-group">
                    <label for="description">Î©òÌÜ† ÏÑ§Î™Ö</label>
                    <textarea id="description" name="description" 
                              placeholder="Ïù¥ Î©òÌÜ†Ïùò ÌäπÏßïÍ≥º Ïñ¥Îñ§ ÎèÑÏõÄÏùÑ Ï§Ñ Ïàò ÏûàÎäîÏßÄ ÏÑ§Î™ÖÌï¥Ï£ºÏÑ∏Ïöî..." 
                              maxlength="500"></textarea>
                </div>
                
                <!-- ÏïÑÎ∞îÌÉÄ ÎØ∏Î¶¨Î≥¥Í∏∞ -->
                <div class="form-group">
                    <label>Î©òÌÜ† ÏïÑÎ∞îÌÉÄ</label>
                    <div class="avatar-preview" id="avatarPreview">ü§ñ</div>
                </div>
                
                <!-- ÏÑ±Í≤© ÏÑ§Ï†ï -->
                <div class="form-group">
                    <label for="personality">Î©òÌÜ† ÏÑ±Í≤©</label>
                    <select id="personality" name="personality">
                        <option value="friendly">ÏπúÍ∑ºÌïòÍ≥† Îî∞ÎúªÌïú</option>
                        <option value="professional">Ï†ÑÎ¨∏Ï†ÅÏù¥Í≥† Ï≤¥Í≥ÑÏ†ÅÏù∏</option>
                        <option value="casual">Ìé∏ÏïàÌïòÍ≥† ÏûêÏú†Î°úÏö¥</option>
                        <option value="encouraging">Í≤©Î†§ÌïòÍ≥† ÎèôÍ∏∞Î∂ÄÏó¨ÌïòÎäî</option>
                        <option value="analytical">Î∂ÑÏÑùÏ†ÅÏù¥Í≥† ÎÖºÎ¶¨Ï†ÅÏù∏</option>
                    </select>
                </div>
                
                <!-- Í≥µÍ∞ú ÏÑ§Ï†ï -->
                <div class="form-group">
                    <div class="checkbox-group">
                        <input type="checkbox" id="isPublic" name="isPublic">
                        <label for="isPublic">Îã§Î•∏ ÏÇ¨Ïö©ÏûêÏôÄ Í≥µÏú† (Í≥µÍ∞ú Î©òÌÜ†Î°ú ÏÑ§Ï†ï)</label>
                    </div>
                </div>
                
                <!-- ÏßÄÏãù Ï∂îÍ∞Ä ÏÑπÏÖò -->
                <div class="knowledge-section">
                    <h3>üìö Î©òÌÜ†ÏóêÍ≤å ÏßÄÏãù Ï∂îÍ∞ÄÌïòÍ∏∞</h3>
                    <p>Î©òÌÜ†Í∞Ä Ï†ÑÎ¨∏Ï†ÅÏù∏ Ï°∞Ïñ∏ÏùÑ Ìï† Ïàò ÏûàÎèÑÎ°ù Î∞∞Í≤Ω ÏßÄÏãùÏùÑ Ï∂îÍ∞ÄÌï¥Ï£ºÏÑ∏Ïöî.</p>
                    
                    <div class="knowledge-type-tabs">
                        <button type="button" class="knowledge-tab active" data-type="text">
                            üìù ÏßÅÏ†ë ÏûÖÎ†•
                        </button>
                        <button type="button" class="knowledge-tab" data-type="pdf">
                            üìÑ PDF ÏóÖÎ°úÎìú
                        </button>
                        <button type="button" class="knowledge-tab" data-type="youtube">
                            üé• Ïú†ÌäúÎ∏å ÎßÅÌÅ¨
                        </button>
                        <button type="button" class="knowledge-tab" data-type="website">
                            üåê ÏõπÏÇ¨Ïù¥Ìä∏ ÎßÅÌÅ¨
                        </button>
                    </div>
                    
                    <!-- ÏßÅÏ†ë ÏûÖÎ†• -->
                    <div class="knowledge-content active" id="text-content">
                        <div class="form-group">
                            <label for="knowledgeTitle">ÏßÄÏãù Ï†úÎ™©</label>
                            <input type="text" id="knowledgeTitle" placeholder="Ïòà: JavaScript Í∏∞Ï¥à Í∞úÎÖê">
                        </div>
                        <div class="form-group">
                            <label for="knowledgeText">ÏßÄÏãù ÎÇ¥Ïö©</label>
                            <textarea id="knowledgeText" placeholder="Î©òÌÜ†Í∞Ä ÏïåÏïÑÏïº Ìï† ÏßÄÏãùÏù¥ÎÇò Ï†ïÎ≥¥Î•º ÏûÖÎ†•ÌïòÏÑ∏Ïöî..." 
                                      rows="8"></textarea>
                        </div>
                        <button type="button" class="btn btn-secondary" onclick="addTextKnowledge()">
                            Ï∂îÍ∞ÄÌïòÍ∏∞
                        </button>
                    </div>
                    
                    <!-- PDF ÏóÖÎ°úÎìú -->
                    <div class="knowledge-content" id="pdf-content">
                        <div class="file-upload-area" id="pdfUploadArea">
                            <div style="font-size: 2rem; margin-bottom: 1rem;">üìÑ</div>
                            <p>PDF ÌååÏùºÏùÑ ÎìúÎûòÍ∑∏ÌïòÍ±∞ÎÇò ÌÅ¥Î¶≠ÌïòÏó¨ ÏóÖÎ°úÎìúÌïòÏÑ∏Ïöî</p>
                            <input type="file" id="pdfFileInput" accept=".pdf" style="display: none;">
                            <button type="button" class="btn btn-secondary" onclick="document.getElementById('pdfFileInput').click()">
                                ÌååÏùº ÏÑ†ÌÉù
                            </button>
                        </div>
                    </div>
                    
                    <!-- Ïú†ÌäúÎ∏å ÎßÅÌÅ¨ -->
                    <div class="knowledge-content" id="youtube-content">
                        <div class="form-group">
                            <label for="youtubeUrl">Ïú†ÌäúÎ∏å URL</label>
                            <input type="url" id="youtubeUrl" placeholder="https://www.youtube.com/watch?v=...">
                        </div>
                        <button type="button" class="btn btn-secondary" onclick="addYoutubeKnowledge()">
                            Ï∂îÍ∞ÄÌïòÍ∏∞
                        </button>
                    </div>
                    
                    <!-- ÏõπÏÇ¨Ïù¥Ìä∏ ÎßÅÌÅ¨ -->
                    <div class="knowledge-content" id="website-content">
                        <div class="form-group">
                            <label for="websiteUrl">ÏõπÏÇ¨Ïù¥Ìä∏ URL</label>
                            <input type="url" id="websiteUrl" placeholder="https://example.com">
                        </div>
                        <button type="button" class="btn btn-secondary" onclick="addWebsiteKnowledge()">
                            Ï∂îÍ∞ÄÌïòÍ∏∞
                        </button>
                    </div>
                    
                    <!-- Ï∂îÍ∞ÄÎêú ÏßÄÏãù Î™©Î°ù -->
                    <div id="knowledgeList" style="margin-top: 2rem;">
                        <!-- Ï∂îÍ∞ÄÎêú ÏßÄÏãùÎì§Ïù¥ Ïó¨Í∏∞Ïóê ÌëúÏãúÎê©ÎãàÎã§ -->
                    </div>
                </div>
                
                <div class="form-actions">
                    <a href="/mentors.html" class="btn btn-secondary">Ï∑®ÏÜå</a>
                    <button type="submit" class="btn btn-primary" id="createBtn">
                        Î©òÌÜ† ÏÉùÏÑ±ÌïòÍ∏∞
                    </button>
                </div>
            </form>
        </div>
    </div>

    <script>
        let knowledgeData = [];
        
        document.addEventListener('DOMContentLoaded', () => {
            // ÌÉ≠ Ï†ÑÌôò Í∏∞Îä•
            document.querySelectorAll('.knowledge-tab').forEach(tab => {
                tab.addEventListener('click', () => {
                    const type = tab.dataset.type;
                    switchKnowledgeTab(type);
                });
            });
            
            // Ìèº Ï†úÏ∂ú Ï≤òÎ¶¨
            document.getElementById('mentorForm').addEventListener('submit', handleFormSubmit);
            
            // Ïù¥Î¶Ñ Î≥ÄÍ≤Ω Ïãú ÏïÑÎ∞îÌÉÄ ÏóÖÎç∞Ïù¥Ìä∏
            document.getElementById('mentorName').addEventListener('input', updateAvatar);
            
            // PDF ÎìúÎûòÍ∑∏ Ïï§ ÎìúÎ°≠
            setupPdfDragDrop();
        });
        
        // ÌÉ≠ Ï†ÑÌôò
        function switchKnowledgeTab(type) {
            // Î™®Îì† ÌÉ≠ ÎπÑÌôúÏÑ±Ìôî
            document.querySelectorAll('.knowledge-tab').forEach(tab => {
                tab.classList.remove('active');
            });
            document.querySelectorAll('.knowledge-content').forEach(content => {
                content.classList.remove('active');
            });
            
            // ÏÑ†ÌÉùÎêú ÌÉ≠ ÌôúÏÑ±Ìôî
            document.querySelector(`[data-type="${type}"]`).classList.add('active');
            document.getElementById(`${type}-content`).classList.add('active');
        }
        
        // ÏïÑÎ∞îÌÉÄ ÏóÖÎç∞Ïù¥Ìä∏
        function updateAvatar() {
            const name = document.getElementById('mentorName').value;
            const avatar = document.getElementById('avatarPreview');
            avatar.textContent = name ? name.charAt(0).toUpperCase() : 'ü§ñ';
        }
        
        // ÌÖçÏä§Ìä∏ ÏßÄÏãù Ï∂îÍ∞Ä
        function addTextKnowledge() {
            const title = document.getElementById('knowledgeTitle').value.trim();
            const content = document.getElementById('knowledgeText').value.trim();
            
            if (!title || !content) {
                alert('Ï†úÎ™©Í≥º ÎÇ¥Ïö©ÏùÑ Î™®Îëê ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî.');
                return;
            }
            
            const knowledge = {
                type: 'text',
                title: title,
                content: content,
                wordCount: content.split(' ').length
            };
            
            knowledgeData.push(knowledge);
            renderKnowledgeList();
            
            // ÏûÖÎ†• ÌïÑÎìú Ï¥àÍ∏∞Ìôî
            document.getElementById('knowledgeTitle').value = '';
            document.getElementById('knowledgeText').value = '';
        }
        
        // Ïú†ÌäúÎ∏å ÏßÄÏãù Ï∂îÍ∞Ä
        function addYoutubeKnowledge() {
            const url = document.getElementById('youtubeUrl').value.trim();
            
            if (!url) {
                alert('Ïú†ÌäúÎ∏å URLÏùÑ ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî.');
                return;
            }
            
            if (!url.includes('youtube.com') && !url.includes('youtu.be')) {
                alert('Ïò¨Î∞îÎ•∏ Ïú†ÌäúÎ∏å URLÏùÑ ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî.');
                return;
            }
            
            const knowledge = {
                type: 'youtube',
                title: 'Ïú†ÌäúÎ∏å ÏòÅÏÉÅ',
                url: url,
                status: 'processing'
            };
            
            knowledgeData.push(knowledge);
            renderKnowledgeList();
            
            // ÏûÖÎ†• ÌïÑÎìú Ï¥àÍ∏∞Ìôî
            document.getElementById('youtubeUrl').value = '';
            
            // Ïã§Ï†úÎ°úÎäî Ïó¨Í∏∞ÏÑú Î∞±ÏóîÎìú API Ìò∏Ï∂úÌïòÏó¨ Ìä∏ÎûúÏä§ÌÅ¨Î¶ΩÌä∏ Ï∂îÏ∂ú
            setTimeout(() => {
                knowledge.status = 'completed';
                knowledge.wordCount = Math.floor(Math.random() * 1000) + 500;
                renderKnowledgeList();
            }, 2000);
        }
        
        // ÏõπÏÇ¨Ïù¥Ìä∏ ÏßÄÏãù Ï∂îÍ∞Ä
        function addWebsiteKnowledge() {
            const url = document.getElementById('websiteUrl').value.trim();
            
            if (!url) {
                alert('ÏõπÏÇ¨Ïù¥Ìä∏ URLÏùÑ ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî.');
                return;
            }
            
            try {
                new URL(url);
            } catch {
                alert('Ïò¨Î∞îÎ•∏ URLÏùÑ ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî.');
                return;
            }
            
            const knowledge = {
                type: 'website',
                title: 'ÏõπÏÇ¨Ïù¥Ìä∏ ÎÇ¥Ïö©',
                url: url,
                status: 'processing'
            };
            
            knowledgeData.push(knowledge);
            renderKnowledgeList();
            
            // ÏûÖÎ†• ÌïÑÎìú Ï¥àÍ∏∞Ìôî
            document.getElementById('websiteUrl').value = '';
            
            // Ïã§Ï†úÎ°úÎäî Ïó¨Í∏∞ÏÑú Î∞±ÏóîÎìú API Ìò∏Ï∂úÌïòÏó¨ Ïõπ Ïä§ÌÅ¨ÎûòÌïë
            setTimeout(() => {
                knowledge.status = 'completed';
                knowledge.wordCount = Math.floor(Math.random() * 2000) + 800;
                renderKnowledgeList();
            }, 3000);
        }
        
        // PDF ÎìúÎûòÍ∑∏ Ïï§ ÎìúÎ°≠ ÏÑ§Ï†ï
        function setupPdfDragDrop() {
            const uploadArea = document.getElementById('pdfUploadArea');
            const fileInput = document.getElementById('pdfFileInput');
            
            uploadArea.addEventListener('dragover', (e) => {
                e.preventDefault();
                uploadArea.classList.add('dragover');
            });
            
            uploadArea.addEventListener('dragleave', () => {
                uploadArea.classList.remove('dragover');
            });
            
            uploadArea.addEventListener('drop', (e) => {
                e.preventDefault();
                uploadArea.classList.remove('dragover');
                
                const files = e.dataTransfer.files;
                if (files.length > 0 && files[0].type === 'application/pdf') {
                    handlePdfFile(files[0]);
                } else {
                    alert('PDF ÌååÏùºÎßå ÏóÖÎ°úÎìú Í∞ÄÎä•Ìï©ÎãàÎã§.');
                }
            });
            
            fileInput.addEventListener('change', (e) => {
                if (e.target.files.length > 0) {
                    handlePdfFile(e.target.files[0]);
                }
            });
        }
        
        // PDF ÌååÏùº Ï≤òÎ¶¨
        function handlePdfFile(file) {
            if (file.size > 10 * 1024 * 1024) { // 10MB Ï†úÌïú
                alert('ÌååÏùº ÌÅ¨Í∏∞Îäî 10MB Ïù¥ÌïòÎßå Í∞ÄÎä•Ìï©ÎãàÎã§.');
                return;
            }
            
            const knowledge = {
                type: 'pdf',
                title: file.name,
                file: file,
                fileSize: file.size,
                status: 'processing'
            };
            
            knowledgeData.push(knowledge);
            renderKnowledgeList();
            
            // Ïã§Ï†úÎ°úÎäî Ïó¨Í∏∞ÏÑú Î∞±ÏóîÎìú API Ìò∏Ï∂úÌïòÏó¨ PDF ÌÖçÏä§Ìä∏ Ï∂îÏ∂ú
            setTimeout(() => {
                knowledge.status = 'completed';
                knowledge.wordCount = Math.floor(Math.random() * 5000) + 1000;
                renderKnowledgeList();
            }, 4000);
        }
        
        // ÏßÄÏãù Î™©Î°ù Î†åÎçîÎßÅ
        function renderKnowledgeList() {
            const listEl = document.getElementById('knowledgeList');
            
            if (knowledgeData.length === 0) {
                listEl.innerHTML = '';
                return;
            }
            
            const html = knowledgeData.map((knowledge, index) => {
                const typeIcon = {
                    text: 'üìù',
                    pdf: 'üìÑ',
                    youtube: 'üé•',
                    website: 'üåê'
                };
                
                const statusText = {
                    processing: 'Ï≤òÎ¶¨ Ï§ë...',
                    completed: 'ÏôÑÎ£å',
                    failed: 'Ïã§Ìå®'
                };
                
                return `
                    <div class="knowledge-item">
                        <div class="info">
                            <div style="font-weight: 600;">
                                ${typeIcon[knowledge.type]} ${knowledge.title}
                            </div>
                            <div style="font-size: 0.9em; color: #718096;">
                                ${knowledge.type === 'text' ? 
                                    `${knowledge.wordCount}Îã®Ïñ¥` : 
                                    `${statusText[knowledge.status]}${knowledge.wordCount ? ` ‚Ä¢ ${knowledge.wordCount}Îã®Ïñ¥` : ''}`
                                }
                                ${knowledge.fileSize ? ` ‚Ä¢ ${(knowledge.fileSize / 1024 / 1024).toFixed(1)}MB` : ''}
                            </div>
                            ${knowledge.status === 'processing' ? `
                                <div class="progress-bar">
                                    <div class="progress-fill" style="width: ${Math.random() * 80 + 10}%;"></div>
                                </div>
                            ` : ''}
                        </div>
                        <button type="button" class="remove-btn" onclick="removeKnowledge(${index})">
                            ÏÇ≠Ï†ú
                        </button>
                    </div>
                `;
            }).join('');
            
            listEl.innerHTML = html;
        }
        
        // ÏßÄÏãù ÏÇ≠Ï†ú
        function removeKnowledge(index) {
            knowledgeData.splice(index, 1);
            renderKnowledgeList();
        }
        
        // Ìèº Ï†úÏ∂ú Ï≤òÎ¶¨
        async function handleFormSubmit(e) {
            e.preventDefault();
            
            const formData = new FormData(e.target);
            const mentorData = {
                name: formData.get('name'),
                expertise: formData.get('expertise'),
                description: formData.get('description'),
                personality: formData.get('personality'),
                isPublic: formData.has('isPublic'),
                knowledge: knowledgeData
            };
            
            // Í∏∞Î≥∏ Ïú†Ìö®ÏÑ± Í≤ÄÏÇ¨
            if (!mentorData.name.trim()) {
                alert('Î©òÌÜ† Ïù¥Î¶ÑÏùÑ ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî.');
                return;
            }
            
            const createBtn = document.getElementById('createBtn');
            const originalText = createBtn.textContent;
            
            try {
                createBtn.disabled = true;
                createBtn.textContent = 'ÏÉùÏÑ± Ï§ë...';
                
                const token = localStorage.getItem('authToken');
                const response = await fetch('/api/mentors', {
                    method: 'POST',
                    headers: {
                        'Authorization': `Bearer ${token}`,
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify(mentorData)
                });
                
                const result = await response.json();
                
                if (result.success) {
                    alert('AI Î©òÌÜ†Í∞Ä ÏÑ±Í≥µÏ†ÅÏúºÎ°ú ÏÉùÏÑ±ÎêòÏóàÏäµÎãàÎã§!');
                    window.location.href = '/mentors.html';
                } else {
                    throw new Error(result.message || 'Î©òÌÜ† ÏÉùÏÑ±Ïóê Ïã§Ìå®ÌñàÏäµÎãàÎã§.');
                }
            } catch (error) {
                console.error('Error creating mentor:', error);
                alert('Î©òÌÜ† ÏÉùÏÑ± Ï§ë Ïò§Î•òÍ∞Ä Î∞úÏÉùÌñàÏäµÎãàÎã§: ' + error.message);
            } finally {
                createBtn.disabled = false;
                createBtn.textContent = originalText;
            }
        }
    </script>
    
    <!-- PBT LMS Ï±óÎ¥á -->
    <script src="/js/chatbot.js"></script>
</body>
</html>